.map {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.marker {
  width: 1.3rem;
  height: 1.3rem;
  border-radius: 50%;

  cursor: pointer;

  //&--trend {
  //  animation: pulse 2s infinite;
  //}
  position: absolute;
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    transform: scale(1);
  }

  &--default::after {
    background-color: $color-secondary;
    box-shadow: 0 0 0 0 rgba($color-secondary, 1);
    animation: pulse--default 2s infinite;
  }
  &--trending {
    width: 1.5rem;
    height: 1.5rem;

    &::after {
      background-color: $color-primary;
      box-shadow: 0 0 0 0 rgba($color-primary, 1);
      animation: pulse--trending 2s infinite;
    }
  }

  &--cluster {

    &--20 {
      width: 2.5rem;
      height: 2.5rem;
    }

    &--50 {
      width: 3rem;
      height: 3rem;
    }

    &--100 {
      width: 3.5rem;
      height: 3.5rem;
    }

    &--500 {
      width: 4rem;
      height: 4rem;
    }

    &--1000 {
      width: 4.5rem;
      height: 4.5rem;
    }
    &--10000 {
      width: 5rem;
      height: 5rem;
    }

    &--inf {
      width: 6rem;
      height: 6rem;
    }

    span {
      display: inline-block;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.3rem;
      color: var(--color-secondary);
      z-index: 10;
    }
    &::after {
      background-color: $color-black;
      box-shadow: 0 0 0 0 rgba($color-black, 1);
      animation: pulse--cluster 2s infinite;
    }
  }
}

@keyframes pulse--default {
  0% {
    transform: scale(.95);
    box-shadow: 0 0 0 0 rgba($color-secondary, .7);
  }
  70% {
    transform: scale(1);
    box-shadow: 0 0 0 1rem rgba($color-secondary, 0);
  }
  100% {
    transform: scale(.95);
    box-shadow: 0 0 0 0 rgba($color-secondary, 0);
  }
}
@keyframes pulse--trending {
  0% {
    transform: scale(.95);
    box-shadow: 0 0 0 0 rgba($color-primary, .8);
  }
  80% {
    transform: scale(1);
    box-shadow: 0 0 0 1rem rgba($color-primary, 0);
  }
  100% {
    transform: scale(.95);
    box-shadow: 0 0 0 0 rgba($color-primary, 0);
  }
}
@keyframes pulse--cluster {
  0% {
    transform: scale(.95);
    box-shadow: 0 0 0 0 rgba($color-black, .8);
  }
  80% {
    transform: scale(1);
    box-shadow: 0 0 0 1rem rgba($color-black, 0);
  }
  100% {
    transform: scale(.95);
    box-shadow: 0 0 0 0 rgba($color-black, 0);
  }
}

.topic-popup {
  width: 34rem;

  & > .topic-card--small {
    justify-content: space-between;
  }
}

.mapboxgl-popup-content {
  background-color: var(--color-white);
  box-shadow: $box-shadow-subtle;

  max-height: 23rem;
  overflow-y: scroll;
}

.mapboxgl-popup-close-button {
  top: .5rem;
  right: .6rem;
  font-size: 1.5rem;
  color: var(--color-secondary);

  &:hover {
    transform: scale(1.01);
    color: darken($color-primary, 10%);
  }
}

.mapboxgl-canvas {
  left: 0;
}